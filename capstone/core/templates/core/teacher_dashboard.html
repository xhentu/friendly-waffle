{% extends 'core/layout.html' %}
{% load static %}

<!-- Title -->
{% block title %}
Teacher Dashboard
{% endblock %}

<!-- Sidebar -->
{% block sidebar %}
<style>
    /* Button Styles */
    .sidebar ul {
        list-style-type: none;
        padding: 0;
    }

    .sidebar li {
        margin-bottom: 10px;
    }

    .sidebar button {
        width: 100%;
        padding: 10px;
        font-size: 16px;
        color: #fff;
        background-color: #007bff;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        text-align: left;
        transition: background-color 0.3s ease;
    }

    .sidebar button:hover {
        background-color: #0056b3;
    }

    /* Dropdown Container with Animation */
    .dropdown-content {
        max-height: 0;
        overflow: hidden;
        background-color: #f9f9f9;
        padding: 0 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        transition: max-height 0.5s ease, padding 0.5s ease;
        overflow-y: scroll;
    }

    .dropdown-content a {
        text-decoration: none;
        display: block;
        margin: 10px 0;
        color: #333;
        cursor: pointer;
    }

    .dropdown-content a:hover {
        color: #007bff;
    }

    /* When dropdown is visible */
    .dropdown-content.active {
        max-height: 200px;
        padding: 10px;
    }
</style>

<div class="sidebar">
    <ul>
        <li>
            <button onclick="profile()">Profile</button>
        </li>
        <li>
            <button onclick="toggleDropdown('schedule-dropdown')">Manage Schedule</button>
            <div id="schedule-dropdown" class="dropdown-content">
                <a href="#" onclick="viewTeacherSchedule()">View Schedule</a>
                <a href="#" onclick="listAssignedClasses()">Assign Schedule</a>
            </div>
        </li>
        <li>
            <button onclick="toggleDropdown('attendance-dropdown')">Manage Attendance</button>
            <div id="attendance-dropdown" class="dropdown-content">
                <a href="#" onclick="viewMyClassesForAttendance()">View My Classes</a>
                <a href="#" onclick="markAttendance()">Mark Attendance</a>
                <a href="#" onclick="viewAttendanceHistory()">View Attendance History</a>
            </div>
        </li>
        <li>
            <button onclick="toggleDropdown('exams-dropdown')">Manage Exams</button>
            <div id="exams-dropdown" class="dropdown-content">
                <a href="#" onclick="createExam()">Create Exams</a>
                <a href="#" onclick="updateExamGrades()">Enter Grades</a>
                <a href="#" onclick="viewExamGrades()">View Exam Grades</a>
            </div>
        </li>
        <li>
            <button onclick="toggleDropdown('notifications-dropdown')">Manage Notifications</button>
            <div id="notifications-dropdown" class="dropdown-content">
                <a href="#" onclick="">Send Notifications</a>
                <a href="#" onclick="">View Notifications</a>
            </div>
        </li>
    </ul>
</div>
{% endblock %}

<!-- Main Content -->
{% block content %}
<div id="main">
    <h1>Welcome to the Teacher Dashboard</h1>
</div>
{% endblock %}

<!-- JavaScript -->
{% block script %}
<script>
    // Function to toggle the visibility of dropdowns with animation
    function toggleDropdown(id) {
        const dropdown = document.getElementById(id);

        // Toggle the 'active' class to apply the animation
        if (dropdown.classList.contains('active')) {
            dropdown.classList.remove('active');
        } else {
            dropdown.classList.add('active');
        }
    }
</script>
<script type="module" src="{% static 'js/teacher_dashboard.js' %}"></script>
{% endblock %}
